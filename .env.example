# ============================================
# Dues Accountant - Environment Configuration
# ============================================
# Copy this file to .env and update with your actual values
# Never commit .env file to version control

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5000
APP_NAME="Dues Accountant"

# ============================================
# DATABASE: SUPABASE (PostgreSQL) OR MONGODB
# ============================================
# Set USE_SUPABASE=true to use Supabase instead of MongoDB

USE_SUPABASE=false

# ---------- Supabase (when USE_SUPABASE=true) ----------
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# MONGODB DATABASE CONFIGURATION (when USE_SUPABASE=false)
# ============================================

# Option 1: Base MongoDB URI + master DB name (recommended)
# Server connection string; master DB name is appended from MASTER_DB_NAME.
# Change MASTER_DB_NAME to "shift" the master DB without code changes.
MONGODB_URI=mongodb://admin:admin4duesaccountant@72.60.47.250:27017

# Master Database Name (used with MONGODB_URI)
# This database stores tenant metadata and user accounts.
# To shift master DB: change this and run a one-time data migration if needed.
MASTER_DB_NAME=dues-accountant-master

# Option 2: Full Master Database URI (overrides MONGODB_URI + MASTER_DB_NAME)
# Use when master DB is on a different host or you want one explicit URI.
# MASTER_DB_URI=mongodb://admin:admin4duesaccountant@72.60.47.250:27017/dues-accountant-master

# For Development (Local MongoDB):
# MONGODB_URI=mongodb://localhost:27017
# MASTER_DB_NAME=dues-accountant-master

# For Production:
# MONGODB_URI=mongodb://admin:admin4duesaccountant@72.60.47.250:27017
# MASTER_DB_NAME=dues-accountant-master

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate a secure random string for JWT signing
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-32-characters

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
# Leave empty in development (defaults to localhost:3000, localhost:3001)
# For production, specify your frontend URLs
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================
# FRONTEND URL
# ============================================
# Used for generating links in emails and redirects
# Development: http://localhost:3000
# Production: https://your-domain.com
FRONTEND_URL=http://localhost:3000

# ============================================
# EMAIL CONFIGURATION
# ============================================

# Email Service Settings
EMAIL_ENABLED=true
EMAIL_TRANSPORT=api
# Options: "api" (Brevo/Sendinblue) or "smtp"

# Email Sender Information
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME="Dues Accountant"

# System User Email (for tenant registration notifications)
SYSTEM_OWNER_EMAIL=admin@yourdomain.com

# Support Email (for user inquiries, fallback to SYSTEM_OWNER_EMAIL if not set)
SUPPORT_EMAIL=support@yourdomain.com

# ============================================
# BREVO/SENDINBLUE API CONFIGURATION
# ============================================
# Required when EMAIL_TRANSPORT=api
# Get your API key from: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=your-brevo-api-key-here
BREVO_SENDER_ID=

# ============================================
# SMTP CONFIGURATION (Alternative to Brevo API)
# ============================================
# Required when EMAIL_TRANSPORT=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_PASSWORD=your-app-password

# ============================================
# TENANT CONFIGURATION
# ============================================
# Default tenant name for auto-assignment (development)
DEFAULT_TENANT_NAME=demo
DEFAULT_TENANT_DB=demo-tenant

# Auto-migrate existing data to demo tenant on first startup (development only)
AUTO_MIGRATE=false
